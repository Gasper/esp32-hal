
[target.xtensa-esp32-none-elf]
runner = "xtensa-esp32-elf-gdb -q -x openocd.gdb"

[build]
target = "xtensa-esp32-none-elf"

rustflags = [
# use the xtensa gnu linker
#  "-C", "linker=xtensa-esp32-elf-ld",
#  "-C", "link-arg=-Tlink.x",

# use the xtensa gnu compiler as linker
# if you need to link to pre-compiled C libraries provided by a C tool chain
# use GCC as the linker by commenting out both lines above and then
# uncommenting the three lines below
  "-C", "linker=xtensa-esp32-elf-gcc",
  "-C", "link-arg=-nostartfiles",
  "-C", "link-arg=-Wl,-Tmemory.x",
  "-C", "debuginfo=0", # not 2
  
# see: https://github.com/MabezDev/xtensa-rust-quickstart/issues/1#issuecomment-481119695
# however this interferese with cargo xdoc
 # "--emit", "llvm-bc,link", 
 
]