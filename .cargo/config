
[target]
runner = "xtensa-esp32-elf-gdb -q -x openocd.gdb"


[build]
rustflags = [
  # use the xtensa gnu linker
 # "-C", "linker=xtensa-esp32-elf-ld",
  #"-C", "link-arg=-Tlink.x",
  
  "-C", "link-arg=-nostartfiles",
  "-C", "debuginfo=0", # not 2
  "-C", "link-arg=-Wl,-Tlink.x",
  "--emit", "llvm-bc,link", # see: https://github.com/MabezDev/xtensa-rust-quickstart/issues/1#issuecomment-481119695
 
  
  
  # if you need to link to pre-compiled C libraries provided by a C toolchain
  # use GCC as the linker by commenting out both lines above and then
  # uncommenting the three lines below
#   "-C", "linker=xtensa-esp32-elf-gcc",
#   "-C", "link-arg=-Wl,-Tlink.x",
#   "-C", "link-arg=-nostartfiles",
]
target = "xtensa-esp32-none-elf"
